<!DOCTYPE html>
<html>
<head>
	<title>代理模式--图片预加载</title>
	<style>
		*{
			margin: 0;
			padding: 0;
		}
	</style>
</head>
<body>

</body>
</html>
<script>
	let myImage=(function(){
		let imgNode=document.createElement('img');
		document.body.appendChild(imgNode);

		return {
			setSrc:function(src){
				imgNode.src=src;
			},
		};
	})();

	let proxyImage=(function(){
		let img=new Image();
		img.onload=function(){
			myImage.setSrc(this.src);
		};

		return {
			setSrc:function(src){
				myImage.setSrc('file:// /E:/cp_practice/JsDesignModel/TestDemo/designModelJs/loading.gif');
				img.src=src;
			},
		};
	})();
	proxyImage.setSrc('https://ustbhuangyi.github.io/vue-analysis/assets/mind.png');
</script>


